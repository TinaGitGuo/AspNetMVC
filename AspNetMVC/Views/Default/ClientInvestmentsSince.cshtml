
@{
    ViewBag.Title = "ClientFundsSince";
    Layout = null;
}
<!DOCTYPE html>
<html>
@*<h2>Client Investments Since Date Report</h2>*@

<head>
    <script src="jquery-3.1.1.min.js"></script>
    @*<script src="http://code.jquery.com/jquery-1.10.1.min.js" type='text/javascript'></script>*@
</head>

<body>
    <form method="post" action="~/Default/ClientInvSince/1">

        @using (Html.BeginForm())
    {

            @Html.DropDownList("Client", ViewData["client"] as SelectList, "Select Client", new { id = "Client_ID", style = "width: 150px;" })<br />

            <button type='submit'>Submit</button>

    }


        @Scripts.Render("~/bundles/jquery")
        <script type="text/jscript">
        $(document).ready(function () {
            $('#Client_ID').change(function () {
                //alert('here');

                $.getJSON('@Url.Action("ClientInvestmentsSince2", "Reports")', { id: $('#Client_ID').val() }, function (data) {
                    //    var items = '<option>Select Fund</option>';
                    //    alert('in the getJSON success logic')
                    //    $.each(data, function (i, Fund)
                    //    {
                    //        alert('in the each logic - i: ' + i)
                    //        items += "<option value='" + i + "'>" + fund.Value + "</option>";
                    //        //alert('Fund.i' + i + "  Fund.val" + fund.Value)
                    //        //alert('Fund.i' + Fund.i + "  Fund.val" + Fund.val)
                    //    })
                    //    .fail(function (jqxhr, textStatus, errorMessage) { alert(errorMessage); });

                    //    //assign the result to the Fund selectlist
                    //    $('#Fund').html(items);
                    //});
                    //alert('here2');
                });
                //alert('here3');
            });
            // alert('here4');
        });

        </script>


    </form>

</body>
</html>